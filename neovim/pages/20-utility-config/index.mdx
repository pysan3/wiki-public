---
title: Useful Utility Plugins
date: 2022-09-25
tags: ["neovim", "nvim", "setup", "Japanese", "セットアップ"]
type: docs
description: Introduce many plugins that will just improve the usability of nvim. [20-utility-config]
spoiler:
---

# Useful Utility Plugins

このフォルダでは、Nvim の使い勝手を少し改善するプラグインたちを紹介します。

自分の好みに合わせて入れたり入れなかったりしてください。

## Plugins

私が入れているプラグインたちを紹介します。いつものように `init.lua` にプラグインたちを書いてインストールしてみましょう。この章で紹介するプラグインたちはほとんど 1 ファイルだけで構成されているようなプラグインなので、わざわざこれに頼らず自分で実装するのもいいかもしれません。

```lua filename="20-utility-config/init.lua"
return {
  setup = {
    "rcarriga/nvim-notify", -- notifications
    "mbbill/undotree", -- undo tree
    "ziontee113/color-picker.nvim",
    "klen/nvim-config-local", -- load local config
    "pysan3/autosession.nvim", -- restore previous session
    -- "~/Git/autosession.nvim",
    "mhinz/vim-startify", -- startify
    "preservim/tagbar", -- show tagbar on left generated by ctags (require command build)
    "windwp/nvim-spectre", -- better search and replace plugin
    { "ray-x/sad.nvim", requires = "ray-x/guihua.lua" }, -- search and replace with fzf
    "numToStr/Navigator.nvim",
  },
  install = {
    { "romainl/vim-cool", config = "vim.g.CoolTotalMatches = 1" },
    "AndrewRadev/bufferize.vim",
    { "inkarkat/vim-SearchHighlighting", requires = { "inkarkat/vim-ingo-library" } }, -- search word under corsor
  },
}
```

## Introduce Plugins in `install`

### vim-cool : [GitHub](https://github.com/romainl/vim-cool)

検索をかけたときに発生するハイライトを、検索が終わったらいいタイミングで消してくれるプラグイン。ただそれだけ

ちなみに手動で検索のハイライトを消すには `:noh` というコマンドを打てばいいし、これをキーバインドとかに登録しておけば十分っちゃ十分。結構 `<Esc><Esc>` にマップしている人をよく見かける。

### bufferize.nvim : [GitHub](https://github.com/kwkarlwang/bufresize.nvim)

Nvim の大きさが変更されたときなどに、ウィンドウのレイアウトがおかしくならないようにいい感じに調整してくれる。
また、新しいウィンドウを作成したり消したりするときにもいい感じに残りのウィンドウたちの大きさを調整してくれる。

例えば、下にあるウィンドウ `D` を消した場合…

- Without bufresize

```txt
---------------          ---------------
|      |      |          |      |      |
|      |  B   |          |      |  B   |
|  A   |------|          |  A   |------|
|      |  C   |    ->    |      |  C   |
|      |      |          |      |      |
---------------          |      |      |
|      D      |          |      |      |
---------------          ---------------
```

- With bufresize

```txt
---------------          ---------------
|      |      |          |      |      |
|      |  B   |          |      |  B   |
|  A   |------|          |  A   |      |
|      |  C   |    ->    |      |------|
|      |      |          |      |      |
---------------          |      |  C   |
|      D      |          |      |      |
---------------          ---------------
```

### vim-SearchHighlighting : [GitHub](https://github.com/inkarkat/vim-SearchHighlighting)

Vim / Nvim では、Normal Mode で単語の上で `*` を押すと、その単語を検索することができる。

しかし、デフォルトでは検索した上で、次のマッチに自動的に移動してしまう。
このプラグインを入れると `*` を押すと検索が開始されるが、最初は今の場所にとどまったままになる。

ちなみにもとの挙動は `1*` でできる。

また、同様に Visual Mode で選択した範囲を `*` で検索するという機能を追加している。

他にも検索周りで地味に嬉しい機能を追加しているらしいので公式 README を読んでください。
